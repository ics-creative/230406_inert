<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>フォーム送信時の制御｜inert属性のデモ</title>
  
  <link rel="stylesheet" href="../common.css">
  <link rel="stylesheet" href="./index.css">
</head>
<body>
  <div class="pageInner">
    <div class="pageContents">
      <h1>フォーム送信時の制御</h1>
      <div id="js-formWrapper">
        <form class="form" onsubmit="handleSubmit(event)">
          <fieldset class="form-field">
            <legend id="js-test" class="form-field-legend">アカウント情報</legend>
            <div class="form-field-gridBox">
              <label class="form-label">
                <span class="form-label-text">名前<span class="form-badge">（必須）</span></span>
                <input class="form-inputText" type="text" required>
              </label>
            </div>
          </fieldset>
          <fieldset class="form-field">
            <legend class="form-field-legend">メールマガジンで最新情報の配信を希望しますか？</legend>
            <div class="form-field-gridBox form-field-gridBox__gapSmall">
              <label class="form-radio">
                <input type="radio" name="agreeMailMagazine" value="agree">
                <span>希望する</span>
              </label>
              <label class="form-radio">
                <input type="radio" name="agreeMailMagazine" value="disagree" checked>
                <span>希望しない</span>
              </label>
            </div>
          </fieldset>
    
          <div class="form-buttonWrapper">
            <button id="js-form-submit" type="submit" onClick="" class="button">入力内容を保存する<br>（どこにも送信されません）</button>
          </div>
        </form>
      </div>
      <a class="bottomLink" href="../">目次へ戻る</a>
  
    </div>
  </div>

  <script>
    const wrapperElement = document.querySelector("#js-formWrapper"); // inertを指定する要素

    /**
     * 送信された時のイベントハンドラです。
     * @param event SubmitEvent
     */
    const handleSubmit = (event) => {
      console.log("入力内容を送信します（どこにも送信されません）");

      event.preventDefault();
      wrapperElement.inert = true;

      // 1.5秒ほど待機する
      setTimeout(() => {
        console.log("送信が完了しました（どこにも送信されません）")
        
        wrapperElement.inert = false;
      }, 1500)
    };
  </script>
</body>
</html>